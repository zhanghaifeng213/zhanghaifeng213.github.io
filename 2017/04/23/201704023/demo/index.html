<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css">
    ul li{
        list-style:none;
        width:100px;
        height:100px;
        border-radius:50%;
        background:red;
        position:absolute;
        left:0px;
        top:0px;
    }
</style>
</head>
<body>
    <ul>
    </ul>
    <script>
        var oUl=document.querySelector("ul");
        run(10);
        function run(num){
            for(var i=0;i<num;i++){
                var oLi=document.createElement("li");
                    oLi.className="ball";
                    oLi.style.background="radial-gradient("+randomColor()+","+randomColor()+")";
                    oLi.leftVal=3+i;
                    oLi.topVal=3+i;
                    oUl.appendChild(oLi);
            };
            var aBall=document.querySelectorAll(".ball"),
                maxW=document.documentElement.clientWidth-aBall[0].clientWidth,
                maxH=document.documentElement.clientHeight-aBall[0].clientHeight;
            play();
            window.onresize=function(){
                maxW=document.documentElement.clientWidth-aBall[0].clientWidth;
                maxH=document.documentElement.clientHeight-aBall[0].clientHeight;
            };
            function play(){
                for(var i=0;i<num;i++){
                    var oBall=aBall[i],
                        sLeft=oBall.offsetLeft,
                        sTop=oBall.offsetTop,
                        left=sLeft+oBall.leftVal,
                        top=sTop+oBall.topVal;
                        if(left>=maxW||left<=0){
                            left=Math.min(left,maxW);
                            left=Math.max(left,0);
                            oBall.leftVal=-oBall.leftVal;
                            oBall.style.background="radial-gradient("+randomColor()+","+randomColor()+")";
                        };
                        if(top>=maxH||top<=0){
                            top=Math.min(top,maxH);
                            top=Math.max(top,0);
                            oBall.topVal=-oBall.topVal;
                            oBall.style.background="radial-gradient("+randomColor()+","+randomColor()+")";
                        };
                        oBall.style.left=left+"px";
                        oBall.style.top=top+"px";
                };
                requestAnimationFrame(play);
            };
        };
        function randomColor(){
            var r=Math.floor(Math.random()*256),
                g=Math.floor(Math.random()*256),
                b=Math.floor(Math.random()*256);
            return "rgb("+r+","+g+","+b+")";
        };

    </script>
</body>
</html>
